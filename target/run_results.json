{"metadata": {"dbt_schema_version": "https://schemas.getdbt.com/dbt/run-results/v6.json", "dbt_version": "1.10.11", "generated_at": "2025-09-21T22:01:21.426651Z", "invocation_id": "5bef4d4d-552b-4419-a941-f245d760301d", "invocation_started_at": "2025-09-21T22:01:20.164592Z", "env": {}}, "results": [{"status": "success", "timing": [{"name": "compile", "started_at": "2025-09-21T22:01:21.400547Z", "completed_at": "2025-09-21T22:01:21.403882Z"}, {"name": "execute", "started_at": "2025-09-21T22:01:21.404079Z", "completed_at": "2025-09-21T22:01:21.404087Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.004189968109130859, "adapter_response": {}, "message": null, "failures": null, "unique_id": "seed.dbt_project.newzealand_banking_loan_applications", "compiled": null, "compiled_code": null, "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-09-21T22:01:21.405088Z", "completed_at": "2025-09-21T22:01:21.407537Z"}, {"name": "execute", "started_at": "2025-09-21T22:01:21.407691Z", "completed_at": "2025-09-21T22:01:21.407695Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.002964019775390625, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.dbt_project.stg_nz_loan_applications", "compiled": true, "compiled_code": "with loan_application_source as (\n    select * \n    from \"dbt_dev\".\"nate_dbt_dev_raw\".\"newzealand_banking_loan_applications\"\n),\n\nfinal as (\n\n    select\n        -- primary key\n        loan_id,        \n\n        -- dimensions\n        age as customer_age,\n        gender as customer_gender,\n        employment_length as total_employment_years,\n        employer_tenure_years as current_employer_years,\n        annual_income as gross_annual_income,\n        stated_income as declared_income,\n        verified_income,\n        credit_score,\n        loan_amount,\n    case lower(purpose)\n        when 'education'          then 'Education'\n        when 'medical'            then 'Medical'\n        when 'vacation'           then 'Vacation'\n        when 'debt_consolidation' then 'Debt Consolidation'\n        when 'other'              then 'Other'\n        when 'home_improvement'   then 'Home Improvement'\n        when 'car'                then 'Car'\n        when 'small_business'     then 'Small Business'\n        else 'Not Specified'\n    end as loan_purpose,\n    round((interest_rate * 100)::numeric, 2) as interest_rate,\n        util as credit_utilization,\n        revol_bal as revolving_balance,\n        dti as debt_to_income_ratio,\n        region as customer_region,\n        employment_status,\n        home_ownership,\n        initcap(application_type) as loan_application_type,\n        grade as credit_grade,\n        sub_grade as credit_sub_grade,\n\n        -- date / time\n        cast(application_date as date) as application_date,\n        cast(issue_date as date) as issue_date,\n        cast(first_payment_date as date) as first_payment_date,\n\n        -- measures\n        open_accounts as num_open_accounts,\n        delinq_2yrs as delinquencies_past_2yrs,\n        inquiries_6m as credit_inquiries_6m,\n        term as loan_term_months,\n        ip_risk_score as ip_fraud_risk_score,\n        device_change_30d as device_changes_30d,\n        income_mismatch_ratio as income_mismatch_ratio,\n        days_to_fund as funding_days,\n\n        -- boolean\n        case when has_document_mismatch = 1 then true else false end as is_document_mismatch,\n        case when \"default\" = 1 then true else false end as is_loan_default,\n        case when fraud = 1 then true else false end as is_fraud\n\n    from loan_application_source\n)\n\nselect * from final", "relation_name": "\"dbt_dev\".\"nate_dbt_dev_staging\".\"stg_nz_loan_applications\"", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-09-21T22:01:21.408645Z", "completed_at": "2025-09-21T22:01:21.410095Z"}, {"name": "execute", "started_at": "2025-09-21T22:01:21.410242Z", "completed_at": "2025-09-21T22:01:21.410245Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.001986265182495117, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.dbt_project.dim_loan_applications", "compiled": true, "compiled_code": "with loan_source as (\n    select * \n    from \"dbt_dev\".\"nate_dbt_dev_staging\".\"stg_nz_loan_applications\"\n)\n\nselect\n    -- primary key\n    loan_id,\n\n    -- dimensions\n    customer_age,\n    customer_gender,\n    customer_region,\n    employment_status,\n    home_ownership,\n\n    -- loan attributes\n    loan_application_type,\n    loan_purpose,\n    credit_grade,\n    credit_sub_grade,\n    loan_term_months,\n\n    -- dates/timestamps\n    application_date,\n    issue_date,\n    first_payment_date\n\nfrom loan_source", "relation_name": "\"dbt_dev\".\"nate_dbt_dev_marts\".\"dim_loan_applications\"", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-09-21T22:01:21.411018Z", "completed_at": "2025-09-21T22:01:21.412636Z"}, {"name": "execute", "started_at": "2025-09-21T22:01:21.412845Z", "completed_at": "2025-09-21T22:01:21.412849Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.0022242069244384766, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.dbt_project.fct_loan_application", "compiled": true, "compiled_code": "with loan_source as (\n    select *\n    from \"dbt_dev\".\"nate_dbt_dev_staging\".\"stg_nz_loan_applications\"\n)\n\nselect\n    -- primary key\n    loan_id,\n\n    -- financial measures\n    loan_amount,\n    gross_annual_income,\n    declared_income,\n    verified_income,\n\n    -- risk / ratios\n    credit_score,\n    interest_rate,\n    credit_utilization,\n    revolving_balance,\n    debt_to_income_ratio,\n\n    -- numeric measures\n    num_open_accounts,\n    delinquencies_past_2yrs,\n    credit_inquiries_6m,\n    funding_days,\n    ip_fraud_risk_score,\n    device_changes_30d,\n    income_mismatch_ratio,\n\n    -- booleans\n    is_document_mismatch,\n    is_loan_default,\n    is_fraud\n\nfrom loan_source", "relation_name": "\"dbt_dev\".\"nate_dbt_dev_marts\".\"fct_loan_application\"", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-09-21T22:01:21.413670Z", "completed_at": "2025-09-21T22:01:21.419101Z"}, {"name": "execute", "started_at": "2025-09-21T22:01:21.419254Z", "completed_at": "2025-09-21T22:01:21.419258Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.00595402717590332, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.dbt_project.not_null_dim_loan_applications_loan_id.d8a98ef959", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect loan_id\nfrom \"dbt_dev\".\"nate_dbt_dev_marts\".\"dim_loan_applications\"\nwhere loan_id is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-09-21T22:01:21.419951Z", "completed_at": "2025-09-21T22:01:21.423047Z"}, {"name": "execute", "started_at": "2025-09-21T22:01:21.423183Z", "completed_at": "2025-09-21T22:01:21.423185Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.003551959991455078, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.dbt_project.unique_dim_loan_applications_loan_id.74113b1980", "compiled": true, "compiled_code": "\n    \n    \n\nselect\n    loan_id as unique_field,\n    count(*) as n_records\n\nfrom \"dbt_dev\".\"nate_dbt_dev_marts\".\"dim_loan_applications\"\nwhere loan_id is not null\ngroup by loan_id\nhaving count(*) > 1\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-09-21T22:01:21.423962Z", "completed_at": "2025-09-21T22:01:21.425633Z"}, {"name": "execute", "started_at": "2025-09-21T22:01:21.425765Z", "completed_at": "2025-09-21T22:01:21.425767Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.0022258758544921875, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.dbt_project.rpt_loan_summary", "compiled": true, "compiled_code": "with loan_applications as (\n    select * \n    from \"dbt_dev\".\"nate_dbt_dev_marts\".\"dim_loan_applications\"\n),\n\nloan_performance as (\n    select * \n    from \"dbt_dev\".\"nate_dbt_dev_marts\".\"fct_loan_application\"\n),\n\nloan_data as (\n    select\n        perf.loan_id,\n        perf.loan_amount,\n        perf.interest_rate,\n        perf.debt_to_income_ratio,\n        perf.funding_days,\n        perf.is_loan_default,\n        app.loan_purpose,\n        app.credit_grade\n    from loan_performance  perf\n    left join loan_applications app \n        on perf.loan_id = app.loan_id\n),\n\nloan_metrics as (\n    select\n        -- overall portfolio metrics\n        count(distinct loan_id) as total_loans,\n        sum(loan_amount) as total_loan_amount,\n        avg(loan_amount) as avg_loan_amount,\n        avg(interest_rate) as avg_interest_rate,\n        avg(debt_to_income_ratio) as avg_debt_to_income_ratio,\n        avg(funding_days) as avg_funding_days,\n\n        -- default stats\n        sum(case when is_loan_default then 1 else 0 end) as total_defaults,\n        100.0 * sum(case when is_loan_default then 1 else 0 end) / count(*) as default_rate_pct\n    from loan_data\n)\n\nselect * from loan_metrics", "relation_name": "\"dbt_dev\".\"nate_dbt_dev_marts\".\"rpt_loan_summary\"", "batch_results": null}], "elapsed_time": 0.8350160121917725, "args": {"send_anonymous_usage_stats": true, "require_all_warnings_handled_by_warn_error": false, "static": false, "select": [], "project_dir": "/Users/nate/Desktop/dbt_project", "write_json": true, "profiles_dir": "/Users/nate/.dbt", "require_batched_execution_for_custom_microbatch_strategy": false, "state_modified_compare_more_unrendered_values": false, "indirect_selection": "eager", "use_colors": true, "require_generic_test_arguments_property": true, "show_resource_report": false, "static_parser": true, "printer_width": 80, "require_resource_names_without_spaces": true, "vars": {}, "warn_error_options": {"error": [], "warn": [], "silence": []}, "favor_state": false, "log_format_file": "debug", "require_yaml_configuration_for_mf_time_spines": false, "skip_nodes_if_on_run_start_fails": false, "log_format": "default", "upload_to_artifacts_ingest_api": false, "use_fast_test_edges": false, "compile": true, "log_file_max_bytes": 10485760, "partial_parse_file_diff": true, "quiet": false, "macro_debugging": false, "strict_mode": false, "invocation_command": "dbt docs generate", "print": true, "exclude": [], "validate_macro_args": false, "require_explicit_package_overrides_for_builtin_materializations": true, "defer": false, "version_check": true, "log_level_file": "debug", "empty_catalog": false, "introspect": true, "log_path": "/Users/nate/Desktop/dbt_project/logs", "require_nested_cumulative_type_params": false, "use_colors_file": true, "populate_cache": true, "show_all_deprecations": false, "partial_parse": true, "cache_selected_only": false, "which": "generate", "state_modified_compare_vars": false, "source_freshness_run_project_hooks": true, "log_level": "info"}}